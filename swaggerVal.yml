openapi: 3.0.3
info:
  title: Check-Online API. Currency Release.
  termsOfService: https://forms.gle/kPqAx6WYcaSYtZpN6
  version: "4.9.132"
  contact:
    name: Check-Online
    email: info@check-online.com.ua
  description: >-
    <p><img src="https://github.com/Dezolder/Check-Online-API/raw/main/logo.png" alt="Check-Online Logo">
    <p>
    <button><a href="http://127.0.0.1:55551/">API Товары</a></button> <button><a href="http://127.0.0.1:55551/currency">API Валюта</a></button>
    <p>
    API - между ПРРО и Кассовой Системой. Фискализация валютных операций.
    <p>
    Реализованы Валютные операции: Покупка, Сторно покупки, Продажа, Сторно продажи, Аванс, Подкрепление, Инкассация, Онлайн, Оффлайн.
    <hr>
    Рекомендуемая последовательность команд для первичного теста ПРРО:

      1.  <strong><samp>setClientId              </samp></strong>- <i>Установить номер лицензии на ПРРО </i>
      2.  <strong><samp>loginCashier2            </samp></strong>- <i>Логин кассира в ПРРО</i>
      3.  <strong><samp>openShift                </samp></strong>- <i>Открыть смену</i>
      4.  <strong><samp>buyCurrency              </samp></strong>- <i>Покупка валюты</i>
      5.  <strong><samp>stornoBuyCurrency        </samp></strong>- <i>Сторно Покупки валюты</i>
      6.  <strong><samp>saleCurrency             </samp></strong>- <i>Продажа валюты</i>
      7.  <strong><samp>stornoSaleCurrency       </samp></strong>- <i>Сторно продажи валюты</i>
      8.  <strong><samp>inputCurrency            </samp></strong>- <i>Получение Ааванса</i>
      9.  <strong><samp>additionalInputCurrency  </samp></strong>- <i>Получение Подкрепления</i>
      10. <strong><samp>outputCurrency           </samp></strong>- <i>Инкассация</i>
      11. <strong><samp>sendZReport              </samp></strong>- <i>Z-Отчёт</i>
      12. <strong><samp>closeShift               </samp></strong>- <i>Закрыть смену</i>
      13. <strong><samp>logoutCashier            </samp></strong>- <i>Логаут из ПРРО</i>

  license:
    name: closeLicense
    url: https://check-online.com.ua/policy
servers:
  - url: http://127.0.0.1:55551
    description: Development Server

tags:
  - name: Merchant
    description: Лицензирование ПРРО
  - name: Casher
    description: Кассиры и ПРРО
  - name: Shift
    description: Кассиры и служебные чеки
  - name: Currency
    description: Валютные операции

paths:
  /command/loginCashier:
    post:
      tags:
        - "Casher"
      summary: Логин в ПРРО
      description: >-
        Для входа в ППРО требуется указать расположение файла ключа
        <code> Key-6.dat </code> и и пароль <code> password </code>
          <p style="color:green; font-size:13px"> ПРРО потдерживает работу с самыми популярными форматоми Цифровых подписей: <code> Key-6.dat </code>, <code> *.ZS2 </code>, <code> *.jks</code> </p>
            <p> Сеанс работы с пРРО начинается с логирования Кассира или Старшего Кассира.
            <p> В результате выполнения команды, будет проверена открытая часть сертификата на его валидность и сохранена в локальную папку ./certs-cache.
            <p> Заведение нового кассира (т.е. добавление ЕЦП/КЭП), обязательно требуется режим онлайн. Далее при повторном входе того же Кассира команда может работать как в онлайн так и офлайн. </p>

      requestBody:
        description: Файл ключа должен быть зарегистрирован в личном кабинете ДФС для работы с ПРРО
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "loginCashier"
                keyPath:
                  type: string
                  description: Путь к расположению файла закрытой части Ключа Кассира. Путь должен быть на латинице и без пробелов. Для виндоус систем - двойные обратные слэши ("D:\\\Install\\\PRRO\\\Key-6.dat"). Для Линукса - одинарные прямые слэши (D:/Install/PRRO/Key-6.dat).
                  example: D:\\Install\\PRRO\\Key-6.dat
                password:
                  type: string
                  format: password
                  description: Пароль, который будет использоваться для подписи документов.
                cashierName:
                  type: string
                  description: <p style="color:gray; font-size:10px"> ФИО кассира, которое передает касса в пРРО. В дальнейшем именно, эти данные будут передаваться на сервер ДПС при формировании документов. Если данный параметр будет не указан, то пРРО будет использовать данные из сертификата открытого ключа.</p>
              required:
                - commandName
                - keyPath
                - password
                - cashierName
            example:
              {
                "commandName": "loginCashier",
                "keyPath": "Key-6.dat",
                "password": "checkonline",
                "cashierName": "Для РРО № 4000066889",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  id:
                    type: string
              example:
                {
                  "success": true,
                  "id": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                }
        400:
          description: NOK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
              example: { "success": false }

  /command/loginCashier2:
    post:
      tags:
        - "Casher"
      summary: Альтернативный Логин в ПРРО
      description: >-
        Вместо расположения файла ключа можно указать сам ключь в формате BASE64.
        Воспользуйтесь бесплатым сервисом на сайте <a href="http://8500.ru/file2base64/">http://8500.ru/file2base64/</a>.
          1. Выберите файл ключа
          2. Результат кодирования укажите в теле запроса для поля keyData
        <fieldset>
        Важно: Ключь указанный в этом примере был специально создан для регистратора 4000066888 на тестовой площадке ДПС. Это позволяет быстро ознакомиться с API Check-Online. К тому же, отдельный ключь освобождает от неудобств, связаных с одновременным использованием одних и тех же ключей другими участниками тестовой площадки ДПС. 
        <p>
        В ответе этой команды будет показана открытая чать ключа:<br>
        <strong><samp>57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23</strong></samp>
        <br>
        Рекомендуется его использовать по умолчанию в остальных командах данной документации.
      requestBody:
        description: Файл ключа дожен быть зарегистрирован в личном кабинете ДФС для работы с ПРРО
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "loginCashier2"
                keyData:
                  type: string
                  description: Закрытый ключь в формате BASE64.
                  example: MIIE4wIBAzCCBIAGCSqGSIb3DQEHAaCCBHEEggRtMIIEaTCCBGUGCSqGSIb3DQEHAaCCBFYEggRSMIIETjCCAfIGCyqGSIb3DQEMCgECoIIBrjCCAaowgbAGCSqGSIb3DQEFDTCBojBDBgkqhkiG9w0BBQwwNgQg8A+2Tgg78osx84pIy70g/VkYCiIBNrdxrbfyl3AgKRoCAicQMA4GCiqGJAIBAQEBAQIFADBbBgsqhiQCAQEBAQEBAzBMBAg/16bt+aDM3QRAqdbrRfE8cIKAxJZ7Ix9erfZY66TANykdONlr8CXKThf46XINxhW0OiiXXwvB3qNkOLVk6iwXn9ASPm24+sV5BASB9DLkQa5F/PVjNHMIaaVK2sOXt1ZQffDI2rZknkIK7H8BeT+CSHHcCTPOj+aeOETFafJ13lYYNkts2DuKA3exxiBmIjMzpJiS/FA+KZI5xRLToOtoIixPy2EeGcCnBpyfGXFnz2w86AFMND3Hw4G3GJwtGO9ixC3bHJZ7ZkLxyBBQSK5KFp8xixmwDqkJiJ+P/Gun51Oes3uuAdjcvv4RNdfDQ10SBUtXzLdxpyRiPjalsFZgS9BEb0GoEHr3h0aetreE2Z+4V588JI6s/4TiG39W9DOGLHEKsn7cMYf6fvq3jC3Pu3zPXF1lCasVylQGQB9k9iwxMTAvBgkqhkiG9w0BCRUxIgQgVzYOnrqzkkPyjBhYBD7D+31gzR1k2Ef5TGwm24OO7yMwggJUBgsqhkiG9w0BDAoBAqCCAhAwggIMMIGwBgkqhkiG9w0BBQ0wgaIwQwYJKoZIhvcNAQUMMDYEIOI1TN1ZfkS2FMr0Ro8Mj3RPR+ulZlrv5P+Zv+TauwG6AgInEDAOBgoqhiQCAQEBAQECBQAwWwYLKoYkAgEBAQEBAQMwTAQIf6YapKMYQIgEQKnW60XxPHCCgMSWeyMfXq32WOukwDcpHTjZa/Alyk4X+OlyDcYVtDool18Lwd6jZDi1ZOosF5/QEj5tuPrFeQQEggFVm1Qwa1kIzp5xiJRxDnQV+oUozXg8oI0RiCs8sIeCXR3hwcR8cE89C1XYFTDPlW12/EE8Cn4YSIUJLgksuqVofsewsIrSutU+csrcHuZAMKWV352Ep0pNEvIQ02GDaKWGH3FngXa+WzEpxliGAuuBoLQfxH95Mz6HjEETZfwFcj+WYKlbEL1J0qXxtyvuZBo0CI13aOSrar/SDYHz/y0iEXl6TiEgOJtsxHftJ3a97zTqDaEKSJxCMXmDv4Mi/mDjB2lasechy40sayfKdYlm/Mn+ULhuN6HMUQYNcPFcJxaj+FZAGc2WiECaT78SNRgS2baYnpQ1aKfBj5OyS9UxTVtET3cO5/Np4JBCq4CgFmSBHSyc/+TKKbRVQxTQiosS6H2+xG1JfsZFcmjmmUWFiegg/12+N7IEGBVYFQZtnoydZta1a30bHmSjcyJhS8tgP3Spx8ExMTAvBgkqhkiG9w0BCRUxIgQgoxAp9k0QtyBC8YG5Rg4Kv/qekuTJzWgA9YCdxsDujC0wWjAyMA4GCiqGJAIBAQEBAgEFAAQgiAD95/Su01pKRkITUFYWJVIAJwAZp9bMXsskcxgy6K4EIHk0BPRheW7WxE8dRwwTqrpltZ0dw/MLNTdS0IOPc2BVAgInEA==
                password:
                  type: string
                  format: password
                  description: Пароль, который будет использоваться для подписи документов.
                cashierName:
                  type: string
                  description: <p style="color:gray; font-size:10px"> ФИО кассира, которое передает касса в пРРО. В дальнейшем именно эти данные будут передаваться на сервер ДПС при формировании документов. Если данный параметр не указан, то пРРО будет использовать данные из сертификата открытого ключа.</p>
              required:
                - commandName
                - keyData
                - password
                - cashierName
            example:
              {
                "commandName": "loginCashier2",
                "keyData": "MIIE4wIBAzCCBIAGCSqGSIb3DQEHAaCCBHEEggRtMIIEaTCCBGUGCSqGSIb3DQEHAaCCBFYEggRSMIIETjCCAfIGCyqGSIb3DQEMCgECoIIBrjCCAaowgbAGCSqGSIb3DQEFDTCBojBDBgkqhkiG9w0BBQwwNgQg8A+2Tgg78osx84pIy70g/VkYCiIBNrdxrbfyl3AgKRoCAicQMA4GCiqGJAIBAQEBAQIFADBbBgsqhiQCAQEBAQEBAzBMBAg/16bt+aDM3QRAqdbrRfE8cIKAxJZ7Ix9erfZY66TANykdONlr8CXKThf46XINxhW0OiiXXwvB3qNkOLVk6iwXn9ASPm24+sV5BASB9DLkQa5F/PVjNHMIaaVK2sOXt1ZQffDI2rZknkIK7H8BeT+CSHHcCTPOj+aeOETFafJ13lYYNkts2DuKA3exxiBmIjMzpJiS/FA+KZI5xRLToOtoIixPy2EeGcCnBpyfGXFnz2w86AFMND3Hw4G3GJwtGO9ixC3bHJZ7ZkLxyBBQSK5KFp8xixmwDqkJiJ+P/Gun51Oes3uuAdjcvv4RNdfDQ10SBUtXzLdxpyRiPjalsFZgS9BEb0GoEHr3h0aetreE2Z+4V588JI6s/4TiG39W9DOGLHEKsn7cMYf6fvq3jC3Pu3zPXF1lCasVylQGQB9k9iwxMTAvBgkqhkiG9w0BCRUxIgQgVzYOnrqzkkPyjBhYBD7D+31gzR1k2Ef5TGwm24OO7yMwggJUBgsqhkiG9w0BDAoBAqCCAhAwggIMMIGwBgkqhkiG9w0BBQ0wgaIwQwYJKoZIhvcNAQUMMDYEIOI1TN1ZfkS2FMr0Ro8Mj3RPR+ulZlrv5P+Zv+TauwG6AgInEDAOBgoqhiQCAQEBAQECBQAwWwYLKoYkAgEBAQEBAQMwTAQIf6YapKMYQIgEQKnW60XxPHCCgMSWeyMfXq32WOukwDcpHTjZa/Alyk4X+OlyDcYVtDool18Lwd6jZDi1ZOosF5/QEj5tuPrFeQQEggFVm1Qwa1kIzp5xiJRxDnQV+oUozXg8oI0RiCs8sIeCXR3hwcR8cE89C1XYFTDPlW12/EE8Cn4YSIUJLgksuqVofsewsIrSutU+csrcHuZAMKWV352Ep0pNEvIQ02GDaKWGH3FngXa+WzEpxliGAuuBoLQfxH95Mz6HjEETZfwFcj+WYKlbEL1J0qXxtyvuZBo0CI13aOSrar/SDYHz/y0iEXl6TiEgOJtsxHftJ3a97zTqDaEKSJxCMXmDv4Mi/mDjB2lasechy40sayfKdYlm/Mn+ULhuN6HMUQYNcPFcJxaj+FZAGc2WiECaT78SNRgS2baYnpQ1aKfBj5OyS9UxTVtET3cO5/Np4JBCq4CgFmSBHSyc/+TKKbRVQxTQiosS6H2+xG1JfsZFcmjmmUWFiegg/12+N7IEGBVYFQZtnoydZta1a30bHmSjcyJhS8tgP3Spx8ExMTAvBgkqhkiG9w0BCRUxIgQgoxAp9k0QtyBC8YG5Rg4Kv/qekuTJzWgA9YCdxsDujC0wWjAyMA4GCiqGJAIBAQEBAgEFAAQgiAD95/Su01pKRkITUFYWJVIAJwAZp9bMXsskcxgy6K4EIHk0BPRheW7WxE8dRwwTqrpltZ0dw/MLNTdS0IOPc2BVAgInEA==",
                "password": "checkonline",
                "cashierName": "Для РРО № 4000066889",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  id:
                    type: string
              example:
                {
                  "success": true,
                  "id": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                }

  /command/logoutCashier:
    post:
      tags:
        - "Casher"
      summary: Логаут из ПРРО
      description: Для выхода требуется указать расположение файла ключа и пароль
      requestBody:
        description: Указание ключа позволяет определить какого именно пользователя вывести из системы, Кассира или Старшего Кассира
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "logoutCashier"
                cashierId:
                  type: string
              required:
                - commandName
                - cashierId
            example:
              {
                "commandName": "logoutCashier",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  id:
                    type: string
              example:
                {
                  "success": true,
                  "id": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                }
        400:
          description: NOK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
              example: { "success": false }

  /command/getCashiers:
    post:
      tags:
        - "Casher"
      summary: Получить список залогиненых в ПРРО пользователей
      description: ПРРО хранит информацию о залогиненых пользователях. Этот список доступен по этой команде.
      requestBody:
        description: Команда без дополнительных параметров
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "getCashiers"
              required:
                - commandName
            example: { "commandName": "getCashiers" }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  id:
                    type: string
                  expirationDate:
                    type: string
                    format: timeDate
                    example: "00:00:00 21.11.2021"
              example:
                {
                  "success": true,
                  "id": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                  "expirationDate": "00:00:00 21.11.2021",
                }
        400:
          description: NOK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
              example: { "success": false }

  /command/setClientId:
    post:
      tags:
        - "Merchant"
      summary: Установить номер лицензии ПРРО
      description: Номер лицензии для тестов можно получить бесплатно, написав письмо на info@check-online.com.ua, или заполнив <a href="https://forms.gle/qkynQEE8Kor6AnYG8">форму</a>. Номер лицензии указывается один раз при первичной настройке ПРРО.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "getClientId"
                clientId:
                  type: string
                  description: Номер лицензии
              required:
                - commandName
                - clientId
            example: { "commandName": "setClientId", "clientId": "" }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  id:
                    type: string
              example: { "success": true, "id": "" }
        400:
          description: NOK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  errorMessage:
                    type: string
                  errorCode:
                    type: number
              example:
                {
                  "success": false,
                  "errorMessage": "Ідентифікатор клієнта вже визначений",
                  "errorCode": 1,
                }

  /command/getClientId:
    post:
      tags:
        - "Merchant"
      summary: Получить номер лицензии используемой ПРРО
      description: ПРРО хранит номер своей лицензии.
      requestBody:
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "getClientId"
              required:
                - commandName
            example: { "commandName": "getClientId" }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  id:
                    type: string
              example: { "success": true, "id": "" }

  /command/getRegistrars:
    post:
      tags:
        - "Casher"
      summary: Получить список доступных Фискальных Регистраторов
      description: Состояние всех Регистраторов, зарегистрированных на Субъекте Предпринимательской Деятельности
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "getRegistrars"
                cashierId:
                  type: string
                requestState:
                  type: boolean
                  default: false
                  description: показывать ответ в сокращённом виде, если состояние открыта или закрыта смена регистраторов - не интересует.
              required:
                - commandName
                - cashierId
            example:
              {
                "commandName": "getRegistrars",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "requestState": false,
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                      address:
                        type: string
                      registrars:
                        type: array
                        items:
                          type: object
                          properties:
                            opened:
                              type: boolean
                            zReportSent:
                              type: boolean
                            offlineSupported:
                              type: boolean
                            offlineSessionStarted:
                              type: boolean
                            openedByCashierWithName:
                              type: string
                            openedByCashierWithKeyId:
                              type: string
                            id:
                              type: number
                            name:
                              type: string
              example:
                {
                  "name": "Back To Back",
                  "address": "УКРАЇНА, ВIННИЦЬКА ОБЛ., М. ВІННИЦЯ, Quality Assurance",
                  "registrars":
                    [
                      {
                        "opened": true,
                        "zReportSent": false,
                        "offlineSupported": true,
                        "offlineSessionStarted": false,
                        "openedByCashierWithName": "Тестовий платник 3 (Тестовий сертифікат)",
                        "openedByCashierWithKeyId": "a7037cdba891ebac46ba3f05cc4b4ba68ce86be9252ea1ab2cf5d626b274c11b",
                        "id": 4000034847,
                        "name": "ІНТЕРНЕТ МАГАЗИН",
                      },
                    ],
                }
        400:
          description: NOK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
              example: { "success": false }

  /command/getRegistrarInfo:
    post:
      tags:
        - "Casher"
      summary: Получить информацию об одном Фискальном регистраторе
      description: Получение состояния регистратора по его registrarId.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "getRegistrarInfo"
                cashierId:
                  type: string
                registrarId:
                  type: string
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "getRegistrarInfo",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": "4000066889",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      pointAddress:
                        type: string
                      pointName:
                        type: string
                      opened:
                        type: boolean
                      zReportSent:
                        type: boolean
                      offlineSupported:
                        type: boolean
                      offlineSessionStarted:
                        type: boolean
                      offlineSessionEndTime:
                        type: string
                        description: Расчётная дата до отключения ПРРО в офлайн режиме. Поле offlineSessionEndTime доступно только если ПРРО находиться в оффлайн режиме. Поле отсутствует, если ПРРО в онлайн режиме.
                      openedByCashierWithName:
                        type: string
                      openedByCashierWithKeyId:
                        type: string
                      id:
                        type: number
                      name:
                        type: string
                        description: Название ПРРО, указанное при регистрации (форма J/F 1316602).
              example:
                {
                  "success": true,
                  "data":
                    {
                      "pointAddress": "УКРАЇНА, АР КРИММ. СІМФЕРОПОЛЬ СЕЛИЩЕ БІТУМНЕ, АВТОНОМНА РЕСПУБЛІКА КРИМ/М.СІМФЕРОПОЛЬ СІМФЕРОПОЛЬ ГРЕСІВСЬКИЙ БІТУМНЕ Улица 1, 3",
                      "pointName": "Тестовий платник 4",
                      "opened": false,
                      "zReportSent": false,
                      "offlineSupported": true,
                      "offlineSessionStarted": true,
                      "offlineSessionEndTime": "08:58:17 24.12.2020",
                      "openedByCashierWithName": "Для РРО № 4000066889",
                      "openedByCashierWithKeyId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                      "id": 4000066889,
                      "name": "CheckOnline",
                    },
                }
        400:
          description: NOK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
              example: { "success": false }

  /command/serverAvailable:
    post:
      tags:
        - "Casher"
      summary: Проверка доступности сервера ДПС.
      description: Проверка доступности сервера ДПС.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "serverAvailable"
              required:
                - commandName
            example: { "commandName": "serverAvailable" }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  id:
                    type: string
              example: { "success": true }

  /command/getCashierInfoByKey:
    post:
      tags:
        - "Casher"
      summary: Проверка открытого ключа по его закрытой части.
      description: По этой команде ПРРО вернёт значение открытой части цифровой подписи.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "getCashierInfoByKey"
                keyPath:
                  type: string
                  description: Путь к расположению файла закрытой части Ключа Кассира. Путь должен быть на латинице и без пробелов. Для виндоус систем - двойные обратные слэши ("D:\\\Install\\\PRRO\\\Key-6.dat"). Для Линукса - одинарные прямые слэши (D:/Install/PRRO/Key-6.dat).
                password:
                  type: string
                  description: Пароль к закрытой части ключа
              required:
                - commandName
                - keyPath
                - password
            example:
              {
                "commandName": "getCashierInfoByKey",
                "keyPath": "D:\\data\\Key-6.dat",
                "password": "checkonline",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      loggedIn:
                        type: boolean
                      id:
                        type: string
                      name:
                        type: string
                      expirationDate:
                        type: string
              example:
                {
                    "success": true,
                    "data": {
                        "loggedIn": true,
                        "id": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                        "name": "Для РРО № 4000066889",
                        "expirationDate": "14:16:50 25.01.2023"
                    }
                }
        400:
          description: Bad Request
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  errorMessage:
                    type: string
                  errorCode:
                    type: number
              example:
                {
                  "success": false,
                  "errorMessage": "Несподівана помилка",
                  "errorCode": 7,
                }

  /command/openShift:
    post:
      tags:
        - "Shift"
      summary: Открыть смену
      description: Открыть смену можно только если до этого она была закрыта
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "openShift"
                cashierId:
                  type: string
                registrarId:
                  type: string
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "openShift",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": "4000066889",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  id:
                    type: string
                    description: Id смены
              example: { "success": true, "id": "142733" }
        400:
          description: Bad Request
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  errorMessage:
                    type: string
                    description: Описание ошибки
                  errorCode:
                    type: number
                    description: Код ошибки
              example:
                {
                  "success": false,
                  "errorMessage": "Касир з таким ідентифікатором не знайдений",
                  "errorCode": 1,
                }

  /command/closeShift:
    post:
      tags:
        - "Shift"
      summary: Закрыть смену
      description: Перед закрытием смены должен быть сформирован Z-Отчёт
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "closeShift"
                cashierId:
                  type: string
                registrarId:
                  type: string
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "closeShift",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": "4000066889",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
              example: { "success": true }

  /command/beginOfflineSession:
    post:
      tags:
        - "Shift"
      summary: Начать офлайн режим
      description: Переход в офлайн режим, с обработкой возможных критических событий, связанных с внезапным обрывом связи с фискальным сервером, при котором ПРРО не получает фискальный номер документа от Сервера ДПС.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "beginOfflineSession"
                cashierId:
                  type: string
                registrarId:
                  type: string
                revokeLastOnlineDoc:
                  type: boolean
                  default: false
                  description: Значение true, если наступило критическое событие при котором локальному номеру документа не выдан онлайн фискальный номер. Этим полем управляет ПРРО, а не Кассовая система.
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "beginOfflineSession",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": "4000066889",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
              example: { "success": true }

  /command/finishOfflineSession:
    post:
      tags:
        - "Shift"
      summary: Завершить офлайн режим
      description: Переход в онлайн режим. Формирование и отправка подписанного офлайн пакета на Сервер ДПС.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "finishOfflineSession"
                cashierId:
                  type: string
                registrarId:
                  type: string
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "finishOfflineSession",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": "4000066889",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
              example: { "success": true }

  /command/sendZReport:
    post:
      tags:
        - "Shift"
      summary: Z-Отчёт
      description: Перед закрытием смены должен быть сформирован Z-Отчёт
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "sendZReport"
                cashierId:
                  type: string
                registrarId:
                  type: string
                # useServerCalculation:
                #   type: boolean
                #   default: false
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "sendZReport",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": "4000066889",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      shiftId:
                        type: string
                      serviceInputTotal:
                        type: string
                      serviceOutputTotal:
                        type: string
                      totalsBySale:
                        type: object
                        properties:
                          ordersCount:
                            type: number
                      Currency:
                        type: array
                        items:
                          type: object
                          properties:
                            totalinadvance:
                              type: number
                              description: Отримано авансів національною валютою (15.2 цифри)
                            totalinattach:
                              type: number
                              description: Отримано підкріплень національною валютою (15.2 цифри)
                            totalsurrcollection:
                              type: number
                              description: Здано по інкасації національною валютою (15.2 цифри)
                            commission:
                              type: number
                              description: Отримано комісії за операціями конвертації (15.2 цифри)
                            calcdocscnt:
                              type: number
                              description: Кількість розрахункових документів за зміну (числовий)
                            acceptedn:
                              type: number
                              description: Прийнято національної валюти для переказу (15.2 цифри)
                            issuedn:
                              type: number
                              description: Видано національної валюти при виплаті переказу (15.2 цифри)
                            commissionn:
                              type: number
                              description: Отримано комісії в національній валюті при здійсненні переказів (15.2 цифри)
                            transferscnt:
                              type: number
                              description: Кількість операцій (документів) переказів або виплат переказів (числовий)
                            details:
                              type: array
                              items:
                                type: object
                                properties:
                                  valnum:
                                    type: number
                                    description: Порядковий номер валюти (числовий)
                                  valcd:
                                    type: number
                                    description: Код валюти (числовий)
                                  valsymcd:
                                    type: string
                                    description: Символьний код валюти (64 символів)
                                  valnm:
                                    type: string
                                    description: Найменування іноземної валюти (текст)
                                  coursebuy:
                                    type: string
                                    description: Курс купівлі (ХХХХ.ХХХХХХХХ) на момент закриття зміни або курс операцій у випадку зміни курсу (64 символи)
                                  coursesell:
                                    type: string
                                    description: Курс продажу (ХХХХ.ХХХХХХХХ) на момент закриття зміни або курс операцій у випадку зміни курсу (64 символи)
                                  coursereg:
                                    type: string
                                    description: Курс регулятора (ХХХХ.ХХХХХХХХ) (64 символи)
                                  buyvali:
                                    type: number
                                    description: Загальна сума придбаної іноземної валюти (15.2 цифри)
                                  sellvali:
                                    type: number
                                    description: Загальна сума проданої іноземної валюти (15.2 цифри)
                                  buyvaln:
                                    type: number
                                    description: Загальна сума придбаної національної валюти (15.2 цифри)
                                  sellvaln:
                                    type: number
                                    description: Загальна сума проданої національної валюти (15.2 цифри)
                                  storbuyvali:
                                    type: number
                                    description: Загальна сума поверненої клієнтами іноземної валюти за операціями «сторно» (15.2 цифри)
                                  storsellvali:
                                    type: number
                                    description: Загальна сума виданої клієнтам іноземної валюти за операціями «сторно» (15.2 цифри)
                                  storbuyvaln:
                                    type: number
                                    description: Загальна сума поверненої клієнтами національної валюти за операціями «сторно» (15.2 цифри)
                                  storsellvaln:
                                    type: number
                                    description: Загальна сума виданої клієнтам національної валюти за операціями «сторно» (15.2 цифри)
                                  cinvali:
                                    type: number
                                    description: Загальна сума прийнятої іноземної валюти за операціями конвертації (15.2 цифри)
                                  coutvali:
                                    type: number
                                    description: Загальна сума виданої іноземної валюти за операціями конвертації (15.2 цифри)
                                  unusvali:
                                    type: number
                                    description: Загальна сума виданої іноземної валюти за операціями обміну невикористаної національної валюти (15.2 цифри)
                                  unusvaln:
                                    type: number
                                    description: Загальна сума прийнятої від клієнтів національної валюти за «операціями обміну невикористаної національної валюти» (15.2 цифри)
                                  commission:
                                    type: number
                                    description: Загальна сума комісії за операціями конвертації (15.2 цифри)
                                  inadvance:
                                    type: number
                                    description: Отримано авансів (15.2 цифри)
                                  inattach:
                                    type: number
                                    description: Отримано підкріплень (15.2 цифри)
                                  surrcollection:
                                    type: number
                                    description: Здано по інкасації (15.2 цифри)
                                  storunusvali:
                                    type: number
                                    description: Повернуто клієнтами валюти по сторно обміну невикористаної національної валюти (15.2 цифри)
                                  storunusvaln:
                                    type: number
                                    description: Видано клієнтам національної валюти за сторно обміну невикористаної національної валюти (15.2 цифри)
                                  storcinvali:
                                    type: number
                                    description: Видано іноземної валюти по сторно конвертації (15.2 цифри)
                                  storcoutvali:
                                    type: number
                                    description: Повернуто іноземної валюти по сторно конвертації (15.2 цифри)
                                  storcommission:
                                    type: number
                                    description: Повернуто суму комісії зі сторно конвертації (15.2 цифри)
                                  valcrcd:
                                    type: string
                                    description: Крос-курс, код валюти (64 символи)
                                  crosssymcd:
                                    type: string
                                    description: Крос-курс, символьний код валюти (64 символи)
                                  crosscourse:
                                    type: string
                                    description: Крос-курс (ХХХХ.ХХХХХХХХ) (64 символи)

              example:
                {
                  "success": true,
                  "data":
                    {
                      "receiptNumber": "8",
                      "fiscalNumber": "2185445",
                      "receiptLink": "https://cabinet.tax.gov.ua/cashregs/check?id=2185445&fn=4000066889&date=20210130",
                      "pointName": "Магазин Іван-Тест",
                      "pointAddress": "УКРАЇНА, СУМСЬКА ОБЛ., М. СУМИ, вул. Соборна 1",
                      "tin": "34554363",
                      "ipn": "123456789020",
                      "cashierName": "Для РРО № 4000066889",
                      "shiftId": "142733",
                      "serviceInputTotal": "0.00",
                      "serviceOutputTotal": "0.00",
                      "totalsBySale":
                        {
                          "ordersCount": 0,
                          "totalSum": "0.00",
                          "totalsByPaymentType": [],
                          "totalsByTaxRate": [],
                        },
                      "totalsByReturn":
                        {
                          "ordersCount": 0,
                          "totalSum": "0.00",
                          "totalsByPaymentType": [],
                          "totalsByTaxRate": [],
                        },
                      "dateTime": "17:00:09 30.01.2021",
                      "offline": false,
                    },
                }

  /command/getXReport:
    post:
      tags:
        - "Shift"
      summary: X-Отчёт
      description: X-Отчёт показывает итоги смены, но в отличае от Z-отчёта, не является документом, и может быть вызван в любое время.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "getXReport"
                cashierId:
                  type: string
                registrarId:
                  type: string
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "getXReport",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": "4000066889",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      shiftId:
                        type: string
                      serviceInputTotal:
                        type: string
                      serviceOutputTotal:
                        type: string
                      totalsBySale:
                        type: object
                        properties:
                          ordersCount:
                            type: number
                          totalSum:
                            type: string
                          totalsByPaymentType:
                            type: array
                            items:
                              type: object
                              properties:
                                code:
                                  type: string
                                name:
                                  type: string
                                totalSum:
                                  type: string
                          totalsByTaxRate:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: number
                                letter:
                                  type: string
                                name:
                                  type: string
                                percent:
                                  type: string
                                sign:
                                  type: boolean
                                turnover:
                                  type: string
                                sum:
                                  type: string
                      totalsByReturn:
                        type: array
                        items:
                          type: object
                        properties:
                          ordersCount:
                            type: number
                          totalSum:
                            type: string
                          totalsByPaymentType:
                            type: array
                            items:
                              type: object
                              properties:
                                code:
                                  type: string
                                name:
                                  type: string
                                totalSum:
                                  type: string
                          totalsByTaxRate:
                            type: array
                            items:
                              type: object
                              properties:
                                type:
                                  type: number
                                letter:
                                  type: string
                                name:
                                  type: string
                                percent:
                                  type: string
                                sign:
                                  type: boolean
                                turnover:
                                  type: string
                                sum:
                                  type: string
              example:
                {
                  "success": true,
                  "data":
                    {
                      "pointName": "Тестовий платник 4",
                      "pointAddress": "УКРАЇНА, АР КРИММ. СІМФЕРОПОЛЬ СЕЛИЩЕ БІТУМНЕ, АВТОНОМНА РЕСПУБЛІКА КРИМ/М.СІМФЕРОПОЛЬ СІМФЕРОПОЛЬ ГРЕСІВСЬКИЙ БІТУМНЕ Улица 1, 3",
                      "tin": "34554363",
                      "ipn": "123456789020",
                      "cashierName": "Для РРО № 4000066889",
                      "shiftId": "65464",
                      "serviceInputTotal": "8.00",
                      "serviceOutputTotal": "2200005.00",
                      "totalsBySale":
                        {
                          "ordersCount": 2,
                          "totalSum": "13168.86",
                          "totalsByPaymentType":
                            [
                              {
                                "code": "0",
                                "name": "Готівка",
                                "totalSum": "12168.80",
                              },
                              {
                                "code": "1",
                                "name": "Банківська картка",
                                "totalSum": "800.04",
                              },
                              {
                                "code": "2",
                                "name": "Попередня оплата",
                                "totalSum": "200.02",
                              },
                            ],
                          "totalsByTaxRate":
                            [
                              {
                                "type": 0,
                                "letter": "A",
                                "name": "ПДВ",
                                "percent": "20.00",
                                "sign": false,
                                "turnover": "1150.10",
                                "sum": "179.46",
                              },
                              {
                                "type": 0,
                                "letter": "Б",
                                "name": "ПДВ",
                                "percent": "7.00",
                                "sign": false,
                                "turnover": "6810.00",
                                "sum": "445.52",
                              },
                              {
                                "type": 0,
                                "letter": "В",
                                "name": "ПДВ",
                                "percent": "0.00",
                                "sign": false,
                                "turnover": "223.60",
                                "sum": "0.00",
                              },
                              {
                                "type": 0,
                                "letter": "Д",
                                "name": "ПДВ",
                                "percent": "0.00",
                                "sign": false,
                                "turnover": "5035.20",
                                "sum": "0.00",
                              },
                              {
                                "type": 1,
                                "letter": "М",
                                "name": "Акциз",
                                "percent": "5.00",
                                "sign": false,
                                "turnover": "519.80",
                                "sum": "23.32",
                              },
                            ],
                        },
                      "totalsByReturn":
                        {
                          "ordersCount": 3,
                          "totalSum": "6586.43",
                          "totalsByPaymentType":
                            [
                              {
                                "code": "0",
                                "name": "Готівка",
                                "totalSum": "6086.40",
                              },
                              {
                                "code": "1",
                                "name": "Банківська картка",
                                "totalSum": "400.02",
                              },
                              {
                                "code": "2",
                                "name": "Попередня оплата",
                                "totalSum": "100.01",
                              },
                            ],
                          "totalsByTaxRate":
                            [
                              {
                                "type": 0,
                                "letter": "A",
                                "name": "ПДВ",
                                "percent": "20.00",
                                "sign": false,
                                "turnover": "577.05",
                                "sum": "90.07",
                              },
                              {
                                "type": 0,
                                "letter": "Б",
                                "name": "ПДВ",
                                "percent": "7.00",
                                "sign": false,
                                "turnover": "3405.00",
                                "sum": "222.76",
                              },
                              {
                                "type": 0,
                                "letter": "В",
                                "name": "ПДВ",
                                "percent": "0.00",
                                "sign": false,
                                "turnover": "111.80",
                                "sum": "0.00",
                              },
                              {
                                "type": 0,
                                "letter": "Д",
                                "name": "ПДВ",
                                "percent": "0.00",
                                "sign": false,
                                "turnover": "2517.60",
                                "sum": "0.00",
                              },
                              {
                                "type": 1,
                                "letter": "М",
                                "name": "Акциз",
                                "percent": "5.00",
                                "sign": false,
                                "turnover": "259.90",
                                "sum": "11.66",
                              },
                            ],
                        },
                      "dateTime": "22:17:23 22.12.2020",
                      "offline": false,
                    },
                }

  /command/buyCurrency:
    post:
      tags:
        - "Currency"
      summary: Покупка валюты
      description: >-
        Покупка валюты - это покупка иностранной валюты. Берем у клиента доллары выдаем гривну.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "buyCurrency"
                cashierId:
                  type: string
                registrarId:
                  type: number
                data:
                  type: object
                  required:
                    - inCode
                    - inSymbolCode
                    - outCode
                    - outSymbolCode
                    - course
                    - foreignSum
                    - nationalSum
                  properties:
                    inCode:
                      type: number
                      description: Код валюты (числовой)
                    inSymbolCode:
                      type: string
                      description: Символьный код валюты (64 символа)
                    inName:
                      type: string
                      description: Наименование валюты (текст)
                    outCode:
                      type: number
                      description: Код валюты выданной (числовой)
                    outSymbolCode:
                      type: string
                      description: Символьный код валюты выданной (64 символов)
                    outName:
                      type: string
                      description: Наименование валюты выданной (текст)
                    course:
                      type: number
                      description: Курс операции (ХХХХ.ХХХХХХХХ)
                    foreignSum:
                      type: number
                      description: Сумма в иностранной валюте (15.2 цифры)
                    nationalSum:
                      type: number
                      description: Сумма в национальной валюте (15.2 цифры)
                    comment:
                      type: string
                      description: Комментарий к валютной операции (текст)
                comment:
                  type: string
                  description: Комментарий применённый ко всему Чеку (текст)
                  example: "Спасибо за покупку!"
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "buyCurrency",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": 4000066889,
                "data":
                  {
                    "inCode": 36,
                    "inSymbolCode": "AUD",
                    "inName": "Австралийский доллар",
                    "outCode": 980,
                    "outSymbolCode": "UAH",
                    "outName": "Українська гривня",
                    "course": 21.6473,
                    "valcoursedate": "16012021223100",
                    "foreignSum": 100.00,
                    "nationalSum": 2164.73,
                    "comment": "Currency Exchange",
                  },
                "comment": "Спасибо, что воспользовались нашим сервисом.",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      companyName:
                        type: string
                        description: Наименование продавца (256 символов)
                      pointName:
                        type: string
                        description: Наименование точки продажи (256 символов)
                      pointAddress:
                        type: string
                        description: Адрес точки продаж (256 символов)
                      tin:
                        type: string
                        description: ЄДРПОУ/ДРФО/№ паспорта продавца (10 символів)
                      ipn:
                        type: string
                        description: Налоговый номер или Индивидуальный номер плательщика НДС (12 символов)
                      cashierName:
                        type: string
                        description: ФИО кассира (128 символов)
                      receiptNumber:
                        type: string
                        description: Локальный номер документа (текст)
                      fiscalNumber:
                        type: string
                        description: Фискальный номер документа (128 символов)
                      dateTime:
                        type: string
                        description: Время операции (ггххсс)
                      receiptLink:
                        type: string
                        format: url
                        description: URL фискального чека на портале ДПС
                      offline:
                        type: boolean
                        description: Отметка Оффлайн режима
                      shiftId:
                        type: string
                        description: Номер смены (текст)
              example:
                {
                  "success": true,
                  "data":
                    {
                      "companyName": "Тестовий платник 4",
                      "pointName": "Магазин Іван-Тест",
                      "pointAddress": "УКРАЇНА, СУМСЬКА ОБЛ., М. СУМИ, вул. Соборна 1",
                      "tin": "34554363",
                      "ipn": "123456789020",
                      "cashierName": "Для РРО № 4000066889",
                      "receiptNumber": "2",
                      "fiscalNumber": "2172065",
                      "dateTime": "14:52:43 30.01.2021",
                      "receiptLink": "https://cabinet.tax.gov.ua/cashregs/check?id=2172065&fn=4000066889&date=20210130",
                      "offline": false,
                      "shiftId": "142733",
                    },
                }

  /command/stornoBuyCurrency:
    post:
      tags:
        - "Currency"
      summary: Сторно Покупки валюты
      description: >-
        Сторно - это правао клиентов сделать Отмену (то есть это может быть не последний чек) в течении 15 минут после продажи или покупки по тому же курсу.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "stornoBuyCurrency"
                cashierId:
                  type: string
                registrarId:
                  type: number
                data:
                  type: object
                  required:
                    - inCode
                    - inSymbolCode
                    - outCode
                    - outSymbolCode
                    - course
                    - foreignSum
                    - nationalSum
                  properties:
                    inCode:
                      type: number
                      description: Код валюты (числовой)
                    inSymbolCode:
                      type: string
                      description: Символьный код валюты (64 символа)
                    inName:
                      type: string
                      description: Наименование валюты (текст)
                    outCode:
                      type: number
                      description: Код валюты выданной (числовой)
                    outSymbolCode:
                      type: string
                      description: Символьный код валюты выданной (64 символов)
                    outName:
                      type: string
                      description: Наименование валюты выданной (текст)
                    course:
                      type: number
                      description: Курс операции (ХХХХ.ХХХХХХХХ)
                    foreignSum:
                      type: number
                      description: Сумма в иностранной валюте (15.2 цифры)
                    nationalSum:
                      type: number
                      description: Сумма в национальной валюте (15.2 цифры)
                    comment:
                      type: string
                      description: Комментарий к валютной операции (текст)
                comment:
                  type: string
                  description: Комментарий к чеку (текст)
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "stornoBuyCurrency",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": 4000066889,
                "data":
                  {
                    "inCode": 36,
                    "inSymbolCode": "AUD",
                    "inName": "Австралийский доллар",
                    "outCode": 980,
                    "outSymbolCode": "UAH",
                    "outName": "Українська гривня",
                    "course": 21.6473,
                    "valcoursedate": "16012021223100",
                    "foreignSum": 10.00,
                    "nationalSum": 216.47,
                    "comment": "Currency Exchange",
                  },
                "comment": "Спасибо, что воспользовались нашим сервисом.",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      companyName:
                        type: string
                        description: Наименование продавца (256 символов)
                      pointName:
                        type: string
                        description: Наименование точки продажи (256 символов)
                      pointAddress:
                        type: string
                        description: Адрес точки продаж (256 символов)
                      tin:
                        type: string
                        description: ЄДРПОУ/ДРФО/№ паспорта продавца (10 символів)
                      ipn:
                        type: string
                        description: Налоговый номер или Индивидуальный номер плательщика НДС (12 символов)
                      cashierName:
                        type: string
                        description: ФИО кассира (128 символов)
                      receiptNumber:
                        type: string
                        description: Локальный номер документа (текст)
                      fiscalNumber:
                        type: string
                        description: Фискальный номер документа (128 символов)
                      dateTime:
                        type: string
                        description: Время операции (ггххсс)
                      receiptLink:
                        type: string
                        format: url
                        description: URL фискального чека на портале ДПС
                      offline:
                        type: boolean
                        description: Отметка Оффлайн режима
                      shiftId:
                        type: string
                        description: Номер смены (текст)
              example:
                {
                  "success": true,
                  "data":
                    {
                      "companyName": "Тестовий платник 4",
                      "pointName": "Магазин Іван-Тест",
                      "pointAddress": "УКРАЇНА, СУМСЬКА ОБЛ., М. СУМИ, вул. Соборна 1",
                      "tin": "34554363",
                      "ipn": "123456789020",
                      "cashierName": "Для РРО № 4000066889",
                      "receiptNumber": "70",
                      "fiscalNumber": "1989215",
                      "dateTime": "16:58:54 28.01.2021",
                      "receiptLink": "https://cabinet.tax.gov.ua/cashregs/check?id=1989215&fn=4000066889&date=20210128",
                      "offline": false,
                      "shiftId": "134807",
                    },
                }

  /command/saleCurrency:
    post:
      tags:
        - "Currency"
      summary: Продажа валюты
      description: >-
        Продажа - это продажа иностранной валюты. Берем у клиента гривны выдаем доллары.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "saleCurrency"
                cashierId:
                  type: string
                registrarId:
                  type: number
                data:
                  type: object
                  required:
                    - inCode
                    - inSymbolCode
                    - outCode
                    - outSymbolCode
                    - course
                    - foreignSum
                    - nationalSum
                  properties:
                    inCode:
                      type: number
                      description: Код валюты (числовой)
                    inSymbolCode:
                      type: string
                      description: Символьный код валюты (64 символа)
                    inName:
                      type: string
                      description: Наименование валюты (текст)
                    outCode:
                      type: number
                      description: Код валюты выданной (числовой)
                    outSymbolCode:
                      type: string
                      description: Символьный код валюты выданной (64 символов)
                    outName:
                      type: string
                      description: Наименование валюты выданной (текст)
                    course:
                      type: number
                      description: Курс операции (ХХХХ.ХХХХХХХХ)
                    foreignSum:
                      type: number
                      description: Сумма в иностранной валюте (15.2 цифры)
                    nationalSum:
                      type: number
                      description: Сумма в национальной валюте (15.2 цифры)
                    comment:
                      type: string
                      description: Комментарий к валютной операции (текст)
                comment:
                  type: string
                  description: Комментарий к чеку (текст)
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "saleCurrency",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": 4000066889,
                "data":
                  {
                    "inCode": 980,
                    "inSymbolCode": "UAH",
                    "inName": "Українська гривня",
                    "outCode": 36,
                    "outSymbolCode": "AUD",
                    "outName": "Австралийский доллар",
                    "course": 21.6473,
                    "valcoursedate": "16012021223100",
                    "foreignSum": 10000.00,
                    "nationalSum": 216473.00,
                    "comment": "Currency Exchange",
                  },
                "comment": "Спасибо, что воспользовались нашим сервисом.",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      companyName:
                        type: string
                        description: Наименование продавца (256 символов)
                      pointName:
                        type: string
                        description: Наименование точки продажи (256 символов)
                      pointAddress:
                        type: string
                        description: Адрес точки продаж (256 символов)
                      tin:
                        type: string
                        description: ЄДРПОУ/ДРФО/№ паспорта продавца (10 символів)
                      ipn:
                        type: string
                        description: Налоговый номер или Индивидуальный номер плательщика НДС (12 символов)
                      cashierName:
                        type: string
                        description: ФИО кассира (128 символов)
                      receiptNumber:
                        type: string
                        description: Локальный номер документа (текст)
                      fiscalNumber:
                        type: string
                        description: Фискальный номер документа (128 символов)
                      dateTime:
                        type: string
                        description: Время операции (ггххсс)
                      receiptLink:
                        type: string
                        format: url
                        description: URL фискального чека на портале ДПС
                      offline:
                        type: boolean
                        description: Отметка Оффлайн режима
                      shiftId:
                        type: string
                        description: Номер смены (текст)
              example:
                {
                  "success": true,
                  "data":
                    {
                      "companyName": "Тестовий платник 4",
                      "pointName": "Магазин Іван-Тест",
                      "pointAddress": "УКРАЇНА, СУМСЬКА ОБЛ., М. СУМИ, вул. Соборна 1",
                      "tin": "34554363",
                      "ipn": "123456789020",
                      "cashierName": "Для РРО № 4000066889",
                      "receiptNumber": "3",
                      "fiscalNumber": "2172414",
                      "dateTime": "14:55:06 30.01.2021",
                      "receiptLink": "https://cabinet.tax.gov.ua/cashregs/check?id=2172414&fn=4000066889&date=20210130",
                      "offline": false,
                      "shiftId": "142733",
                    },
                }

  /command/stornoSaleCurrency:
    post:
      tags:
        - "Currency"
      summary: Сторно продажи валюты
      description: >-
        Сторно - это правао клиентов сделать Отмену (то есть это может быть не последний чек) в течении 15 минут после продажи или покупки по тому же курсу.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "stornoSaleCurrency"
                cashierId:
                  type: string
                registrarId:
                  type: number
                data:
                  type: object
                  required:
                    - inCode
                    - inSymbolCode
                    - outCode
                    - outSymbolCode
                    - course
                    - foreignSum
                    - nationalSum
                  properties:
                    inCode:
                      type: number
                      description: Код валюты (числовой)
                    inSymbolCode:
                      type: string
                      description: Символьный код валюты (64 символа)
                    inName:
                      type: string
                      description: Наименование валюты (текст)
                    outCode:
                      type: number
                      description: Код валюты выданной (числовой)
                    outSymbolCode:
                      type: string
                      description: Символьный код валюты выданной (64 символов)
                    outName:
                      type: string
                      description: Наименование валюты выданной (текст)
                    course:
                      type: number
                      description: Курс операции (ХХХХ.ХХХХХХХХ)
                    foreignSum:
                      type: number
                      description: Сумма в иностранной валюте (15.2 цифры)
                    nationalSum:
                      type: number
                      description: Сумма в национальной валюте (15.2 цифры)
                    comment:
                      type: string
                      description: Комментарий к валютной операции (текст)
                comment:
                  type: string
                  description: Комментарий к чеку (текст)
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "stornoSaleCurrency",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": 4000066889,
                "data":
                  {
                    "inCode": 980,
                    "inSymbolCode": "UAH",
                    "inName": "Українська гривня",
                    "outCode": 36,
                    "outSymbolCode": "AUD",
                    "outName": "Австралийский доллар",
                    "course": 21.6473,
                    "valcoursedate": "16012021223100",
                    "foreignSum": 1000.00,
                    "nationalSum": 21647.30,
                    "comment": "Currency Exchange",
                  },
                "comment": "Спасибо, что воспользовались нашим сервисом.",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      companyName:
                        type: string
                        description: Наименование продавца (256 символов)
                      pointName:
                        type: string
                        description: Наименование точки продажи (256 символов)
                      pointAddress:
                        type: string
                        description: Адрес точки продаж (256 символов)
                      tin:
                        type: string
                        description: ЄДРПОУ/ДРФО/№ паспорта продавца (10 символів)
                      ipn:
                        type: string
                        description: Налоговый номер или Индивидуальный номер плательщика НДС (12 символов)
                      cashierName:
                        type: string
                        description: ФИО кассира (128 символов)
                      receiptNumber:
                        type: string
                        description: Локальный номер документа (текст)
                      fiscalNumber:
                        type: string
                        description: Фискальный номер документа (128 символов)
                      dateTime:
                        type: string
                        description: Время операции (ггххсс)
                      receiptLink:
                        type: string
                        format: url
                        description: URL фискального чека на портале ДПС
                      offline:
                        type: boolean
                        description: Отметка Оффлайн режима
                      shiftId:
                        type: string
                        description: Номер смены (текст)
              example:
                {
                  "success": true,
                  "data":
                    {
                      "companyName": "Тестовий платник 4",
                      "pointName": "Магазин Іван-Тест",
                      "pointAddress": "УКРАЇНА, СУМСЬКА ОБЛ., М. СУМИ, вул. Соборна 1",
                      "tin": "34554363",
                      "ipn": "123456789020",
                      "cashierName": "Для РРО № 4000066889",
                      "receiptNumber": "4",
                      "fiscalNumber": "2172584",
                      "dateTime": "14:56:21 30.01.2021",
                      "receiptLink": "https://cabinet.tax.gov.ua/cashregs/check?id=2172584&fn=4000066889&date=20210130",
                      "offline": false,
                      "shiftId": "142733",
                    },
                }

  /command/inputCurrency:
    post:
      tags:
        - "Currency"
      summary: Получение Ааванса
      description: >-
        "Аванс"- получение кассиром ценностей от уполномоченного лица в начале смены.
        <p>
        "Аванс" производится при отркытии смены, в отличие от операции "Подкрепление", которое делается в течение смены.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "inputCurrency"
                cashierId:
                  type: string
                registrarId:
                  type: number
                сurrencies:
                  type: array
                  items:
                    type: object
                    properties:
                      code:
                        type: number
                        description: Код валюты (числовой)
                      symbolCode:
                        type: string
                        description: Символьный код валюты (64 символа)
                      name:
                        type: string
                        description: Наименование валюты выданной (текст)
                      sum:
                        type: number
                        description: Сумма аванса (15.2 цифры)
                      comment:
                        type: string
                        description: Комментарий к валютной операции (текст)
                    required:
                      - code
                      - symbolCode
                      - name
                      - sum
                comment:
                  type: string
                  description: Комментарий к чеку (текст)
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "inputCurrency",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": 4000066889,
                "сurrencies":
                  [
                    {
                      "code": 36,
                      "symbolCode": "AUD",
                      "name": "Австралийский доллар",
                      "sum": 200.73,
                    },
                    {
                      "code": 840,
                      "symbolCode": "USD",
                      "name": "Долар США",
                      "sum": 200.51,
                    },
                    {
                      "code": 980,
                      "symbolCode": "UAH",
                      "name": "Українська гривня",
                      "sum": 300.73,
                    },
                  ],
                "comment": "Спасибо, что воспользовались нашим сервисом.",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      companyName:
                        type: string
                        description: Наименование продавца (256 символов)
                      pointName:
                        type: string
                        description: Наименование точки продажи (256 символов)
                      pointAddress:
                        type: string
                        description: Адрес точки продаж (256 символов)
                      tin:
                        type: string
                        description: ЄДРПОУ/ДРФО/№ паспорта продавца (10 символів)
                      ipn:
                        type: string
                        description: Налоговый номер или Индивидуальный номер плательщика НДС (12 символов)
                      cashierName:
                        type: string
                        description: ФИО кассира (128 символов)
                      receiptNumber:
                        type: string
                        description: Локальный номер документа (текст)
                      fiscalNumber:
                        type: string
                        description: Фискальный номер документа (128 символов)
                      dateTime:
                        type: string
                        description: Время операции (ггххсс)
                      receiptLink:
                        type: string
                        format: url
                        description: URL фискального чека на портале ДПС
                      offline:
                        type: boolean
                        description: Отметка Оффлайн режима
                      shiftId:
                        type: string
                        description: Номер смены (текст)
              example:
                {
                  "success": true,
                  "data":
                    {
                      "companyName": "Тестовий платник 4",
                      "pointName": "Магазин Іван-Тест",
                      "pointAddress": "УКРАЇНА, СУМСЬКА ОБЛ., М. СУМИ, вул. Соборна 1",
                      "tin": "34554363",
                      "ipn": "123456789020",
                      "cashierName": "Для РРО № 4000066889",
                      "receiptNumber": "5",
                      "fiscalNumber": "2172781",
                      "dateTime": "14:58:05 30.01.2021",
                      "receiptLink": "https://cabinet.tax.gov.ua/cashregs/check?id=2172781&fn=4000066889&date=20210130",
                      "offline": false,
                      "shiftId": "142733",
                    },
                }

  /command/additionalInputCurrency:
    post:
      tags:
        - "Currency"
      summary: Получение Подкрепления
      description: >-
        "Подкрепление" - получение кассиром ценностей от уполномоченного лица в течение смены
        <p>
        "Подкрепление"   производится в течение смены, в отличие от операции "Аванс", которое делается при отркытии смены.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "additionalInputCurrency"
                cashierId:
                  type: string
                registrarId:
                  type: number
                сurrencies:
                  type: array
                  items:
                    type: object
                    properties:
                      code:
                        type: number
                        description: Код валюты (числовой)
                      symbolCode:
                        type: string
                        description: Символьный код валюты (64 символа)
                      name:
                        type: string
                        description: Наименование валюты выданной (текст)
                      sum:
                        type: number
                        description: Сумма подкрепления (15.2 цифры)
                      comment:
                        type: string
                        description: Комментарий к валютной операции (текст)
                    required:
                      - code
                      - symbolCode
                      - name
                      - sum
                comment:
                  type: string
                  description: Комментарий к чеку (текст)
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "additionalInputCurrency",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": 4000066889,
                "сurrencies":
                  [
                    {
                      "code": 36,
                      "symbolCode": "AUD",
                      "name": "Австралийский доллар",
                      "sum": 400.73,
                    },
                    {
                      "code": 840,
                      "symbolCode": "USD",
                      "name": "Долар США",
                      "sum": 200.52,
                    },
                    {
                      "code": 980,
                      "symbolCode": "UAH",
                      "name": "Українська гривня",
                      "sum": 500.73,
                      "comment": "гривня",
                    },
                  ],
                "comment": "Спасибо, что воспользовались нашим сервисом.",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      companyName:
                        type: string
                        description: Наименование продавца (256 символов)
                      pointName:
                        type: string
                        description: Наименование точки продажи (256 символов)
                      pointAddress:
                        type: string
                        description: Адрес точки продаж (256 символов)
                      tin:
                        type: string
                        description: ЄДРПОУ/ДРФО/№ паспорта продавца (10 символів)
                      ipn:
                        type: string
                        description: Налоговый номер или Индивидуальный номер плательщика НДС (12 символов)
                      cashierName:
                        type: string
                        description: ФИО кассира (128 символов)
                      receiptNumber:
                        type: string
                        description: Локальный номер документа (текст)
                      fiscalNumber:
                        type: string
                        description: Фискальный номер документа (128 символов)
                      dateTime:
                        type: string
                        description: Время операции (ггххсс)
                      receiptLink:
                        type: string
                        format: url
                        description: URL фискального чека на портале ДПС
                      offline:
                        type: boolean
                        description: Отметка Оффлайн режима
                      shiftId:
                        type: string
                        description: Номер смены (текст)
              example:
                {
                  "success": true,
                  "data":
                    {
                      "companyName": "Тестовий платник 4",
                      "pointName": "Магазин Іван-Тест",
                      "pointAddress": "УКРАЇНА, СУМСЬКА ОБЛ., М. СУМИ, вул. Соборна 1",
                      "tin": "34554363",
                      "ipn": "123456789020",
                      "cashierName": "Для РРО № 4000066889",
                      "receiptNumber": "6",
                      "fiscalNumber": "2172902",
                      "dateTime": "14:59:16 30.01.2021",
                      "receiptLink": "https://cabinet.tax.gov.ua/cashregs/check?id=2172902&fn=4000066889&date=20210130",
                      "offline": false,
                      "shiftId": "142733",
                    },
                }

  /command/outputCurrency:
    post:
      tags:
        - "Currency"
      summary: Инкассация
      description: >-
        Инкассация - передача кассиром ценностей уполномоченному лицу.
        <p>
        "Инкассация" производится при закрытии смены.
      requestBody:
        required: true
        content:
          application/json;charset=utf-8:
            schema:
              type: object
              properties:
                commandName:
                  type: string
                  default: "outputCurrency"
                cashierId:
                  type: string
                registrarId:
                  type: number
                сurrencies:
                  type: array
                  items:
                    type: object
                    properties:
                      code:
                        type: number
                        description: Код валюты (числовой)
                      symbolCode:
                        type: string
                        description: Символьный код валюты (64 символа)
                      name:
                        type: string
                        description: Наименование валюты выданной (текст)
                      sum:
                        type: number
                        description: Сумма Инкассации (15.2 цифры)
                      comment:
                        type: string
                        description: Комментарий к валютной операции (текст)
                    required:
                      - code
                      - symbolCode
                      - name
                      - sum
                comment:
                  type: string
                  description: Комментарий к чеку (текст)
              required:
                - commandName
                - cashierId
                - registrarId
            example:
              {
                "commandName": "outputCurrency",
                "cashierId": "57360e9ebab39243f28c1858043ec3fb7d60cd1d64d847f94c6c26db838eef23",
                "registrarId": 4000066889,
                "сurrencies":
                  [
                    {
                      "code": 36,
                      "symbolCode": "AUD",
                      "name": "Австралийский доллар",
                      "sum": 600.73,
                    },
                    {
                      "code": 840,
                      "symbolCode": "USD",
                      "name": "Долар США",
                      "sum": 200.53,
                    },
                    {
                      "code": 980,
                      "symbolCode": "UAH",
                      "name": "Українська гривня",
                      "sum": 700.73,
                    },
                  ],
                "comment": "Спасибо, что воспользовались нашим сервисом.",
              }
      responses:
        200:
          description: OK
          content:
            application/json;charset=utf-8:
              schema:
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      companyName:
                        type: string
                        description: Наименование продавца (256 символов)
                      pointName:
                        type: string
                        description: Наименование точки продажи (256 символов)
                      pointAddress:
                        type: string
                        description: Адрес точки продаж (256 символов)
                      tin:
                        type: string
                        description: ЄДРПОУ/ДРФО/№ паспорта продавца (10 символів)
                      ipn:
                        type: string
                        description: Налоговый номер или Индивидуальный номер плательщика НДС (12 символов)
                      cashierName:
                        type: string
                        description: ФИО кассира (128 символов)
                      receiptNumber:
                        type: string
                        description: Локальный номер документа (текст)
                      fiscalNumber:
                        type: string
                        description: Фискальный номер документа (128 символов)
                      dateTime:
                        type: string
                        description: Время операции (ггххсс)
                      receiptLink:
                        type: string
                        format: url
                        description: URL фискального чека на портале ДПС
                      offline:
                        type: boolean
                        description: Отметка Оффлайн режима
                      shiftId:
                        type: string
                        description: Номер смены (текст)
              example:
                {
                  "success": true,
                  "data":
                    {
                      "companyName": "Тестовий платник 4",
                      "pointName": "Магазин Іван-Тест",
                      "pointAddress": "УКРАЇНА, СУМСЬКА ОБЛ., М. СУМИ, вул. Соборна 1",
                      "tin": "34554363",
                      "ipn": "123456789020",
                      "cashierName": "Для РРО № 4000066889",
                      "receiptNumber": "7",
                      "fiscalNumber": "2173043",
                      "dateTime": "15:00:27 30.01.2021",
                      "receiptLink": "https://cabinet.tax.gov.ua/cashregs/check?id=2173043&fn=4000066889&date=20210130",
                      "offline": false,
                      "shiftId": "142733",
                    },
                }
